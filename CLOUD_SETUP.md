# 云开发环境配置指南

## 问题

**错误提示**: "请在编辑器云函数根目录（cloudfunctionRoot）选择一个云环境"

## 解决步骤

### 方法一：通过开发者工具界面开通（推荐）

1. **打开云开发控制台**
   - 在微信开发者工具顶部菜单
   - 点击"云开发"按钮（或工具栏的云图标）

2. **开通云开发**
   - 如果是第一次，会提示"开通云开发"
   - 点击"开通"按钮
   - 选择一个环境名称（如：majiang-dev）
   - 等待开通完成（约 1-2 分钟）

3. **获取环境 ID**
   - 开通后会显示环境 ID
   - 格式：`majiang-xxx` 或类似
   - 复制这个 ID

4. **配置环境 ID**
   - 工具栏会出现云开发图标
   - 点击云开发 → 设置
   - 选择刚创建的环境

### 方法二：在 project.config.json 中配置

如果已经有云开发环境，直接在配置文件中指定：

```json
{
  "cloudfunctionRoot": "cloudfunctions/",
  "cloudbaseRoot": "cloudbase/",
  "cloudbaseConfig": {
    "envId": "your-env-id-here"
  }
}
```

替换 `your-env-id-here` 为你的环境 ID。

### 方法三：如果没有云开发账号

如果你没有云开发资格或不想使用云开发：

**→ 切换到本地存储方案**（参考下一部分）

---

## 云开发环境说明

### 免费额度

微信云开发提供免费额度：
- 数据库：2GB 存储
- 云函数：1000 次/天调用
- 云存储：5GB

对于个人项目完全够用！

### 环境类型

- **开发环境**: 测试用，可以随时清空数据
- **生产环境**: 正式使用，数据重要

建议先创建开发环境测试。

---

## 如果不想使用云开发

我可以帮你改造为**纯本地存储方案**，优点：
- ✅ 零成本
- ✅ 立即可用
- ✅ 无需配置
- ✅ 数据私密

缺点：
- ❌ 无法多人实时协作
- ❌ 无法跨设备同步

---

## 快速决策

### 选择 A: 使用云开发（推荐）
1. 点击工具栏"云开发"按钮
2. 开通环境（免费）
3. 等待 1-2 分钟
4. 重新编译即可

### 选择 B: 改为本地存储
告诉我选择这个方案，我立即帮你改造代码。

---

## 常见问题

### Q: 云开发收费吗？
A: 有免费额度，个人使用完全免费。

### Q: 需要实名认证吗？
A: 小程序本身需要认证，云开发不需要额外认证。

### Q: 可以删除云环境吗？
A: 可以，在云开发控制台可以删除。

### Q: 多个项目共用一个环境？
A: 可以，但建议每个项目独立环境。

### Q: 开发环境和生产环境如何切换？
A: 在 project.config.json 中修改 envId。

---

## 我的建议

**如果是学习/测试项目** → 直接开通云开发（2 分钟搞定）
**如果是个人使用** → 可以用本地存储
**如果需要多人协作** → 必须使用云开发或自建服务器

你想选择哪种方案？
